# Product Requirements Document (PRD)

## 미국 이주 지원 플랫폼 v1.1

---

## 1. 제품 개요

### 1.1 제품 비전

미국 이주를 준비하는 클라이언트와 이를 지원하는 에이전트를 위한 올인원 정보 관리 및 커뮤니케이션 플랫폼

### 1.2 제품 목표

- **에이전트 효율성 향상**: 다중 클라이언트 관리 시간 50% 절감
- **클라이언트 만족도 향상**: 정보 투명성 및 셀프서비스 제공
- **프로세스 표준화**: 이주 준비 프로세스 체계화

### 1.3 핵심 가치 제안

1. **정보 수집 자동화**: 구조화된 프로필 및 요구사항 입력
2. **준비 절차 가시화**: 단계별 체크리스트 제공
3. **실시간 커뮤니케이션**: 내장 채팅 시스템
4. **효율적 관리**: 에이전트 대시보드를 통한 다중 클라이언트 관리

---

## 2. 사용자 정의

### 2.1 에이전트 (Agent)

**역할**: 클라이언트의 미국 이주를 지원하는 전문가

**주요 니즈**:

- 여러 클라이언트를 한 곳에서 관리
- 각 클라이언트의 진행상황 실시간 파악
- 효율적인 커뮤니케이션
- 클라이언트 셀프서비스로 업무 부담 감소

**주요 사용 시나리오**:

1. 대시보드에서 전체 클라이언트 목록 확인
2. 클라이언트 상세 페이지에서 정보 조회/수정
3. 채팅으로 클라이언트와 실시간 소통
4. 체크리스트 진행상황 확인 및 업데이트

### 2.2 클라이언트 (Client)

**역할**: 미국 이주를 준비하는 의사/직원/학생

**주요 니즈**:

- 본인 정보를 직접 입력/수정
- 준비사항 체크리스트 확인
- 에이전트와 실시간 소통
- 이주 준비 진행상황 시각화

**주요 사용 시나리오**:

1. 프로필 정보 직접 입력/수정
2. 주거 요구조건 입력
3. 체크리스트 확인 및 완료 표시
4. 에이전트와 채팅으로 소통

---

## 3. 기능 요구사항

### 3.1 인증 시스템 (P0)

**기능**: 에이전트/클라이언트 구분 로그인

**요구사항**:

- Clerk 기반 인증 시스템
- 이메일/소셜 로그인 지원 (Google, 카카오 등)
- 역할 기반 접근 제어 (Role-Based Access)
  - 에이전트: `/agent/dashboard` 접근
  - 클라이언트: `/client/home` 접근
- 회원가입 시 역할 선택

**Clerk 메타데이터 구조**:

```typescript
{
  publicMetadata: {
    role: "agent" | "client",
    agentId?: string, // 클라이언트인 경우 담당 에이전트 ID
    clientId?: string, // 클라이언트인 경우 자신의 DB ID
  }
}
```

**우선순위**: P0 (필수)

---

### 3.2 에이전트 대시보드 (P0)

**기능**: 전체 클라이언트 관리 허브

**요구사항**:

- 클라이언트 목록 표시 (카드 또는 테이블 뷰)
- 각 클라이언트별 진행상황 요약 표시
- 새 클라이언트 추가 기능
- 클라이언트 상세 페이지 진입

**포함 정보**:

- 클라이언트 이름
- 이주 예정일
- 체크리스트 완료율 (프로그레스 바)
- 최근 채팅 시간

**UI/UX**:

- 반응형 디자인 (모바일 대응)
- 클라이언트 카드 클릭 시 상세 페이지 이동
- "+ 새 클라이언트 추가" 버튼 명확히 표시

**우선순위**: P0 (필수)

---

### 3.3 클라이언트 프로필 관리 (P0)

**기능**: 기본 정보 입력 및 수정

**Phase 1 요구사항 (간소화)**:

- 이름 (필수)
- 이메일 (필수)
- 전화번호 (선택)
- 직업 (필수) - 드롭다운: 의사/회사직원/학생
- 이주 예정일 (필수) - 날짜 선택기

**Phase 2 추가 예정**:

- 이주 형태 (가족 동반 / 단독 이주)
- 가족 정보 / 비상연락망

**편집 권한**:

- 클라이언트: 자신의 정보 편집 가능
- 에이전트: 모든 클라이언트 정보 조회/편집 가능

**우선순위**: P0 (필수)

---

### 3.4 주거 요구조건 관리 (P0)

**기능**: 희망 주거 조건 구조화된 입력

**Phase 1 요구사항 (핵심만)**:

- 희망 지역 (도시/주) - 자유 입력
- 예산 범위 (최대) - 숫자 입력 (USD/월)
  - 안내 문구: "예산은 월 임대료 기준입니다"
- 주거 형태 - 선택 (아파트/단독주택/타운하우스)
- 침실 수 - 숫자 선택 (Studio, 1, 2, 3, 4+)
- 욕실 수 - 숫자 선택 (1, 1.5, 2, 2.5, 3+)

**Phase 2 추가 예정**:

- 직장/학교 주소
- 반려동물 여부 및 상세
- 세탁기/건조기 포함
- 주차 공간
- 학군 정보 필요 여부
- 추가 요청사항

**우선순위**: P0 (필수)

---

### 3.5 입국 후 체크리스트 (P0)

**기능**: 단계별 준비사항 자동 생성 및 관리

**체크리스트 카테고리** (템플릿 고정):

1. **출국 전 준비** (7일 전)

   - 비자 확인
   - 항공권 예약
   - 짐 정리

2. **입국 직후** (1주차)

   - 주거지 확정
   - 은행 계좌 개설
   - SSN 신청

3. **정착 단계** (1개월차)
   - 운전면허 취득
   - 자녀 학교 등록 (해당 시)
   - 의료보험 가입

**기능**:

- 체크박스 토글
- 완료율 시각화 (프로그레스 바)
- 에이전트/클라이언트 모두 업데이트 가능

**Phase 2 추가 예정**:

- 각 항목별 메모 추가
- 커스터마이징 기능

**우선순위**: P0 (필수)

---

### 3.6 실시간 채팅 (P0)

**기능**: 에이전트-클라이언트 1:1 채팅

**Phase 1 요구사항 (폴링 방식)**:

- 텍스트 메시지 전송/수신
- 메시지 히스토리 조회
- 타임스탬프 표시
- 폴링 주기: 5초 (새 메시지 확인)

**Phase 2 추가 예정**:

- Supabase Realtime 기반 즉시 전송
- 읽음 표시
- 새 메시지 알림 배지

**UI**:

- 채팅창 우측 또는 하단 고정
- 카카오톡 스타일 말풍선
- 무한 스크롤 (히스토리)

**우선순위**: P0 (필수)

---

### 3.7 에이전트 메모 (P1)

**기능**: 에이전트 전용 개인 메모

**특징**:

- 클라이언트에게 비공개
- 클라이언트별 메모 작성
- 시간순 정렬

**Phase 2 추가 예정**:

- 검색 기능

**우선순위**: P1 (Phase 2)

---

## 4. 비기능 요구사항

### 4.1 성능

- 페이지 로딩 시간: 2초 이내
- 채팅 폴링 응답 시간: 1초 이내
- 동시 접속자: 10-20명 지원

### 4.2 보안

- Clerk 인증으로 사용자 인증
- Supabase RLS로 데이터 접근 제어
- HTTPS 필수
- GDPR/CCPA 준수

### 4.3 사용성

- 전체 UI 한국어
- 모바일 반응형 디자인
- 직관적인 네비게이션
- 명확한 에러 메시지

### 4.4 호환성

- 브라우저: Chrome, Safari, Firefox 최신 2버전
- 모바일: iOS Safari, Chrome Mobile

### 4.5 가용성

- 업타임: 99% 이상
- Vercel + Supabase 자동 스케일링

---

## 5. 페이지 구조 (Sitemap)

```
/ (랜딩 페이지)
├── 서비스 소개
├── [에이전트 로그인] 버튼 → Clerk SignIn
└── [클라이언트 로그인] 버튼 → Clerk SignIn

/sign-in (Clerk 제공)
└── 통합 로그인 페이지 (역할 자동 판별)

/sign-up (Clerk 제공)
└── 회원가입 + 역할 선택

/agent/dashboard
├── 클라이언트 목록 (카드/테이블)
├── [+ 새 클라이언트 추가] 버튼
└── 각 클라이언트 카드 클릭 → /agent/client/[id]

/agent/client/[id]
├── 탭 네비게이션:
│   ├── 프로필
│   ├── 주거옵션
│   ├── 체크리스트
│   └── 채팅
└── 우측/하단: 채팅창 고정 (선택적)

/client/home
├── 탭 네비게이션:
│   ├── 내 프로필
│   ├── 주거옵션
│   ├── 체크리스트
│   └── 채팅
└── 우측/하단: 채팅창 고정 (선택적)
```

---

## 6. UI/UX 가이드라인

### 6.1 언어

- **전체 UI**: 한국어
- 메뉴, 버튼, 레이블 모두 한글 사용

### 6.2 디자인 원칙

- **단순함**: 정보 과부하 방지, 한 화면에 한 가지 핵심 기능
- **직관성**: 에이전트/클라이언트 모두 별도 교육 없이 사용 가능
- **반응형**: 모바일 대응 (특히 채팅 기능)
- **시각적 피드백**: 로딩 상태, 성공/에러 메시지 명확히 표시

### 6.3 컬러 스킴

- Primary: 블루 계열 (신뢰감)
- Success: 그린 (체크리스트 완료)
- Warning: 옐로우 (주의사항)
- Error: 레드 (오류)

### 6.4 주요 컴포넌트

- **카드 레이아웃**: 클라이언트 목록, 프로필 요약
- **탭 네비게이션**: 클라이언트 상세 페이지
- **프로그레스 바**: 체크리스트 완료율
- **채팅 UI**: 카카오톡 스타일 말풍선
- **폼**: 명확한 레이블, 인라인 유효성 검사

---

## 7. 성공 지표 (KPI)

### 7.1 사용자 지표

- 에이전트 가입 수: Year 1 목표 3명
- 에이전트당 평균 클라이언트 수: 목표 3-4명
- 클라이언트 활성 사용자 수: 주간 로그인 70% 이상

### 7.2 참여 지표

- 체크리스트 완료율: 평균 80% 이상
- 평균 채팅 메시지 수: 클라이언트당 20건 이상
- 프로필 완성도: 필수 항목 100% 입력

### 7.3 효율성 지표

- 클라이언트 추가부터 정보 완성까지 소요 시간: 30분 이내
- 에이전트-클라이언트 평균 응답 시간: 24시간 이내

---

## 8. 제약사항 및 가정

### 8.1 기술 제약사항

- Clerk 무료 플랜 제한 (월 활성 사용자 수)
- Supabase Free Tier 제한
- Vercel Hobby 플랜 제한

### 8.2 비즈니스 제약사항

- 초기 시장 규모가 작음 (1-3명 에이전트)
- 에이전트 온보딩 저항 가능성
- 클라이언트 정보 입력 동기 부족 가능성

### 8.3 가정

- 에이전트가 클라이언트에게 플랫폼 사용을 권장함
- 클라이언트가 기본적인 웹 사용 능력 보유
- 인터넷 연결이 안정적임

---

## 9. 향후 로드맵

### Phase 2 (1-2주)

- 에이전트 메모
- 이주 형태 선택 (가족 동반 / 단독 이주)
- 가족 정보 / 비상연락망 입력
- 주거 요구조건 확장 (반려동물, 세탁기/건조기 등)
- Realtime 채팅 (Supabase Realtime)
- 체크리스트 커스터마이징

### Phase 3 (향후)

- 파일 공유 (계약서, 서류)
- 캘린더 통합 (이주 일정)
- Google Maps API 연동
- 프로필 사진 업로드
- 다국어 지원 (영어)
- 모바일 앱 (PWA)
- 분석 대시보드 (에이전트용)

---

## 10. 승인 및 검토

**문서 작성일**: 2025-11-27
**버전**: v1.1
**작성자**: Product Team
**검토자**: [SH]
**승인자**: [SH]
